# AZ 900 Study Notes

----

## Shared Responsibility Model

### Cloud Models:

#### Public Cloud 
-  Is shared resources, which is Multi tenent
**Benifits**:
- Agility
- Quick Deployment

**Drawbacks**:
- Loss of control
- Loss of flexiability as they are preconfigured setup that the customers have to choose from.
- Shared Infra


#### Private Cloud:
- Dedicted to a single company.

**Benifits**:
- Agility
- Quick Deployment
- Private network, not shared
- Can control cost

**Drawbacks**:
- Cost can he high
- In case of privacy, the infra is owned by the cloud provider.


#### Hybrid Cloud:
- Mixture of Public and private cloud:

**Benifites**:
- Some systems on prem, and others on Cloud
- Can support for legacy applications.

**Drawbacks**:
- complex and difficult to mainitain
- additional IT expertise required

-----
**Cunsumption based Model:**

Customers will pay for the reqources that are ALLOCATED to them, even though they might not be using them.
Rules:
*   Dont allocate more recources than you need.
*   Utilize the resources that are allocated.


-----


##### Availability and Scale:

Availability: Making sure the Applicaitons and the system it uses are accessable to the users.

Whta can cause issue in Availability:
*   Netwoek outage
*   Applicaiton failure
*   System Outage
*   power outage
*   Problem with the reliant system like DB or those sytems.

High Availability is considered to be 99% and higher.


**Sacability**:

*Vertical Scaling*: can scale up/down as per the req.

*Horizontal Scaling*: also called Scale out. 1 Vm to 1+ VMs.

Cloud lets us scale easily. Ability to scale in and out is called elasticity.

------


**Relilability and Predictability**

##### Flaut tolerance: (FT)

Fault happnes when a failure occures.
FT is to maintian availability even when a fault happens.


##### Disaster:
- Is more impactful than a Fault.
- Plan for Disasters
- Business Continuty and Disaster Recovery (BCDR)
- Have a BCDR plan.

-----


##### Security and Governance

- Security ristricts access
- Governence is the level of access somoene have when they are given the access.


----


#### Managability in Cloud

*   Need to maintain the services, cost etc.
*   Monitor the resources.
*   Scale Resources
*   Budget
*   Easily deploy and manage resources.

====================


#### Cloud Service types:

##### IaaS:
- Infra is provided by the Cloud Provider.
- Computers, networking componets, hardware etc.
- Cost is based on the consumption.
- The Customer has the greatest responsibility, and greatest level of control.
- Customer is responsible from OS onwards.
- Ex: Azure VMs

##### PaaS:

- Cloud Provider provides Not just the infra, but also the OS and any middleware componenets the service needs.
- are often feature rich and easy to configure,
- Many are turn key features and need minor configurations.
- Best when the customer want to reduce the management burdern.
- In the Responsibility model, PaaS provides a good balance.
- Ex:: Azure App service.


##### SaaS:

- The infra, OS and the Software all are provided by the cloud Provider.
- Usually, pay as you go or Free as well.
- Least reponsibility to the customer, out of the 3 models, also have very little to no control.
- It is the most common type of Cloud Service.
- Office365

-----------


### Module 2:

**Regions, Region Pairs**:

**Geography**:
- Azure dived the enter world into geographies, these are based on country boundries but not always.
- They are defined for complience with regulations that exist in certain parts of the world.
- There can be multiple regions within a Geography.

#### Region:

- Region is a physical Location.
- Each region is directly connected with another region, for disaster recovery, called the region pair.
- There is considerable geographical disctance between Region pairs.
- If the recources in a Region fail, Azure will automatically failover to the region pair.
- This happens in the assumption that the resources are replicated in both regions of the region pair.
- If MS want to update the resources in Region, it will complete the updation in Region within a Region pair before updating the other region. This ensures availability.

**Sovereign Regions**:
These are special regions.
    - US Govt region.
        - All data stays in the US.
        - Only citizens are allowed to access system used to store data.
        - These data centers are seperated from Public data centers.
        - All employees in these data centers are screened.
        - There is also a dedicated network infra that is completly isolated from other networks.
        - Even cities and mucipalities can also use these DC as long as that can prove they are affliated to the GOVT.
    - Germany region
        - This is another special region, that was created for the compliance with GDPR (General Data Protection Regulation)
        - This is availabile fro customers who are doing business in EU.
        - Alos available for the customers who are doing business in Europe Trade Association.
        - Available to UK.
        - Operated by company called T-Systems International, which is the data trustee, and has full control over all the data and infra.
        - MS Only manages systesm that have no access to customer data.
    - China
        - This is another special region
        - Operated by company called Shanghai Blue Cloud technology, which is a data trustee, has full control over all the data and infra.
        - Created to have full compliance with China's regulations.


#### Availability Zones:

- Designed to protect the application from data center failure.
- AZ is a Unique physical locations within a region.
- One of more data centers in each AZ.
- Atleast 3 AZs in each ENABLED region.
- Not all regions are enabled for AZs.
- You have to make sure the application in deployed in multiple AZ with in that region.

In Azure, **zonal** and **zone-redundant services** relate to how resources are deployed and managed in terms of **Availability Zones** to provide resilience and high availability. Here's a detailed explanation:

---

### **Availability Zones**
- Azure regions are made up of multiple **Availability Zones**, which are physically separate datacenters within a region.
- Each zone has its own power, cooling, and networking, making them independent of failures in other zones.
- **Key benefit**: Availability Zones protect against datacenter-level failures.

#### **Zonal Services**
- A **zonal service** is deployed in a specific Availability Zone chosen by the user.
- **Example**: You deploy a Virtual Machine (VM) in Zone 1 of a region.
- **Advantages**:
  - Offers low latency for workloads that require zone-specific resources.
  - Provides predictable performance for applications that depend on proximity.
- **Limitation**:
  - If the specific zone experiences a failure, the resource in that zone will be unavailable.
  
**Examples of Zonal Services**:
  - Virtual Machines (VMs) with explicit zone placement.
  - Managed Disks deployed in a specific zone.


#### **Zone-Redundant Services**
- A **zone-redundant service** automatically replicates or distributes data and workloads across multiple Availability Zones within the region.
- **Example**: Azure SQL Database with zone-redundant configuration ensures data is replicated across zones.
- **Advantages**:
  - High availability: If one zone goes down, the service remains operational because it continues to run from another zone.
  - No need for manual intervention to achieve resiliency.
- **Limitation**:
  - May incur higher costs due to replication or distribution.
  
**Examples of Zone-Redundant Services**:
  - Azure Load Balancer with zone redundancy.
  - Azure Kubernetes Service (AKS) with zone-redundant node pools.
  - Zone-redundant storage (ZRS).


**Always-available services** in Azure refer to platform-managed services that are inherently designed to provide high availability without requiring explicit configuration for resiliency or fault tolerance by the user. These services operate seamlessly across multiple **Availability Zones** or even **regions**, ensuring continuous availability.

#### Key Features of Always-Available Services
1. **Resiliency by Default**:
   - They are built to tolerate failures of individual datacenters, zones, or regions.
   - Users do not need to manage zone-specific deployments or configurations.

2. **Global Reach**:
   - Many always-available services are globally distributed, meaning they are not limited to a single region.
   - This provides an even higher level of availability compared to zone-redundant services.

3. **Managed by Azure**:
   - Azure handles all aspects of availability, including replication, failover, and disaster recovery.
   - Users benefit from high availability without added complexity.

4. **High SLA (Service Level Agreement)**:
   - These services often offer some of the highest SLAs in Azure, ensuring uptime commitments are met.

**Examples of Always-Available Services**

1. **Azure DNS**:
   - Always available globally, ensuring high availability for domain name resolution.

2. **Azure Traffic Manager**:
   - Routes traffic across multiple regions to ensure high availability and performance.

3. **Azure Front Door**:
   - Provides a globally distributed service for application delivery with automatic failover.

4. **Azure Content Delivery Network (CDN)**:
   - Globally distributed service to deliver content with high availability.

5. **Azure Active Directory (AAD)**:
   - Built for global resiliency, ensuring authentication services are always available.


#### Key Differences

| **Aspect**               | **Zonal Services**                        | **Zone-Redundant Services**              | **Always-Available Services**             |
|---------------------------|-------------------------------------------|------------------------------------------|-------------------------------------------|
| **Cost**                 | Typically lower, as no redundancy is built-in. | Higher due to replication across zones.  | Varies, often included in service pricing but can be higher for global distribution. |
| **Deployment Scope**     | Single Availability Zone within a region. | Multiple Availability Zones in a region. | Regional or global, depending on the service. |
| **Resiliency**           | Limited to the selected zone; zone failure impacts availability. | Resilient to zone-level failures.        | Resilient across zones and potentially regions. |
| **Latency**              | Low for zone-specific workloads.          | Slightly higher due to cross-zone replication. | Optimized globally for consistent performance. |
| **User Configuration**   | Requires explicit zone selection during deployment. | User must configure redundancy (e.g., ZRS). | No configuration required; fully managed by Azure. |
| **High Availability**    | Limited; dependent on single zone health. | High; service remains operational if one zone fails. | Extremely high; service remains available even during region-wide issues. |
| **Disaster Recovery**    | Not inherently provided; user must configure backups or other mechanisms. | Zone-level disaster recovery is built-in. | Region or global disaster recovery provided by default. |
| **Use Case**             | Zone-specific, latency-sensitive applications. | Mission-critical regional workloads requiring high availability. | Global-scale or highly critical workloads needing continuous availability. |
| **Provided Capabilities**| Basic resource availability within a single zone. | Automatic failover and data replication across zones. | Seamless failover, global distribution, and fault tolerance. |
| **Examples**             | - Virtual Machines (VMs) with zone placement<br>- Managed Disks in a zone. | - Zone-Redundant Storage (ZRS)<br>- Azure Load Balancer (Zone-redundant). | - Azure Traffic Manager<br>- Azure DNS<br>- Azure Active Directory (AAD). |



Here’s a breakdown of **when to use each service type** based on typical scenarios:

#### **When to Use Zonal Services**
- **Low-Latency, Zone-Specific Applications**: When you need predictable, low-latency performance for workloads tied to a specific Availability Zone.
  - Example: A database or application server that needs to stay close to specific resources in the same zone.
- **Cost-Sensitive Deployments**: When cost considerations outweigh the need for high availability, as deploying zonal services is generally cheaper.
- **Testing and Development**: For workloads that do not require high availability, such as non-critical development, testing, or staging environments.
- **Manual High Availability Architectures**: When you plan to implement your own redundancy and failover mechanisms across zones or regions.


#### **When to Use Zone-Redundant Services**
- **Mission-Critical Regional Applications**: For applications where downtime due to zone failures is unacceptable, and you require high availability within a single Azure region.
  - Example: A web application with a regional user base needing automatic failover across Availability Zones.
- **Data Resiliency Requirements**: For workloads that need built-in data replication and fault tolerance within a region.
  - Example: Storing critical data in Zone-Redundant Storage (ZRS).
- **No Manual Management of Redundancy**: When you prefer Azure to handle replication and availability across zones without requiring manual configuration.
- **Scalable and Resilient Services**: For applications such as containerized workloads on Azure Kubernetes Service (AKS) or high-traffic APIs behind a Zone-Redundant Load Balancer.


### **When to Use Always-Available Services**
- **Global Applications**: For applications or services with a global user base that require consistent availability and performance across multiple regions.
  - Example: Authentication services with Azure Active Directory (AAD) or content delivery with Azure CDN.
- **Maximum Availability Requirements**: When downtime is not acceptable, even during region-wide outages, and you need Azure to ensure continuous operation.
  - Example: DNS services with Azure DNS or global traffic routing with Azure Traffic Manager.
- **Simplified Operations**: For scenarios where you want Azure to fully manage availability, failover, and disaster recovery without requiring additional setup.
  - Example: Hosting a global e-commerce site with Azure Front Door for seamless failover.
- **Disaster Recovery Across Regions**: When you want built-in disaster recovery spanning multiple regions without implementing it yourself.

#### **Quick Decision Guide**
- **Zonal Services**: Use for **low latency**, cost efficiency, and zone-specific workloads.
- **Zone-Redundant Services**: Use for **high availability within a region** and to protect against zone failures.
- **Always-Available Services**: Use for **global-scale workloads**, critical applications, or to minimize operational overhead for disaster recovery and failover.


---

#### Data Centers:
- Is a physical building within a reagion.
- each region will have atleast 2 Data centers
- Contains Physycal hardware
- dedicated networking infra
- climet controller
- Isolated Power supply and Power generators
- Data flows in/out are MS owned or leased cables


#### Resource & Resourse Groups:

- Resource is any enitity that you create within Azure, like VMs, Storage, DB, WebApps etc.

- Resource Group is a logical container designed to help manage Resources.
    Is a good way to control costs.
    allows to delete all resources within the RG when we dont need them, ina single action.
    Improved billing experience with the use of Tags.
    Can tag a RG with a meaningful identifier and when user get the invoice, can the see the tags
        Can sort and filter the azure invoices with these tags.
    Makes its easy to redeploy with ARM templates.


#### Management Groups
- Resources are created in a RG.
- RGs is used to organise the resources and are created in a Subscription.
- We can have multiple Subscriptions, but how can we orgnise Subscriptions.
    - Management Groups (MG) are created to organise Subscriptions.
    - We can only put other MGs or Ss in a MG.
    - We cna have a structure like this.
    - Sales Dept - MG
        - Subscription-1
        - Subscription-2
    - IT Dept - MG
        - IT Sub
        - Dev MGt Group - MG
            - Sub1
            - Sub2
    - Training Dept - MG
        - Sub1
        - Sub2

------


#### Azure Compute and Networking services:


**Compute Services**:

What is Compute : We are refering to a cloud service that consumes CPU and memory.

*Containers*: 
- Is a method of virtualization for computers.
- Container is an isolated virtual env in a computer where the applciation and the resources can run.
- Container is a created using a Image, which has everythig the applicaiton needs to be executed.
- The image is saved on to a repo.
- We ned a container runtime, we point the runtime to the image, it downloads the image a and runs it in a special env called an container.

